<template>
  <div class="provider-profile-section">
    <div class="bg-slate-800 border border-slate-700 rounded-xl p-6 space-y-6">
      <!-- Profile Header -->
      <div class="flex items-start justify-between pb-4 border-b border-slate-700">
        <div>
          <h3 class="text-2xl font-bold text-white">{{ providerInfo?.name ?? '–ü—Ä–æ—Ñ–∏–ª—å' }}</h3>
          <p class="text-gray-400 mt-1">
            üåü {{ ((providerInfo?.rating as number) ?? 0).toFixed(1) }} —Ä–µ–π—Ç–∏–Ω–≥ ¬∑ {{ (providerInfo?.reviews as number) ?? 0 }} –æ—Ç–∑—ã–≤–æ–≤
          </p>
        </div>
        <button
          @click="editProfile"
          class="bg-blue-600 hover:bg-blue-500 text-white font-semibold px-4 py-2 rounded-lg transition active:scale-95 flex items-center gap-2"
        >
          ‚úçÔ∏è –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
        </button>
      </div>

      <!-- Bio -->
      <div>
        <label class="block text-sm font-semibold text-gray-300 mb-2">üìù –û —Å–µ–±–µ</label>
        <p class="text-gray-400 leading-relaxed">
          {{ providerInfo?.bio ?? '–ù–∏ —Å —á–µ–º –µ—â–µ –Ω–µ –Ω–∞–ø—Ä–∞–≤—è–ª–æ—Å—å. –ù–∞–ø–∏—à–∏—Ç–µ –¥–µ—Ç–∞–ª—å–Ω–æ –æ —Å–µ–±–µ!' }}
        </p>
      </div>

      <!-- Location -->
      <div>
        <label class="block text-sm font-semibold text-gray-300 mb-2">üìç –ú–µ—Å—Ç–æ–Ω–∞—Ö–æ–∂–¥–µ–Ω–∏–µ</label>
        <p class="text-gray-400">
          {{ providerInfo?.location ?? '–ù–µ —É–∫–∞–∑–∞–Ω–æ' }}
        </p>
      </div>

      <!-- Specializations -->
      <div>
        <label class="block text-sm font-semibold text-gray-300 mb-3">üåü –°–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è</label>
        <div class="flex flex-wrap gap-2">
          <span
            v-if="(providerInfo?.specializations as string[])?.length"
            v-for="spec in (providerInfo?.specializations as string[])"
            :key="spec"
            class="bg-blue-900 text-blue-300 px-3 py-1 rounded-full text-sm font-medium"
          >
            {{ spec }}
          </span>
          <span v-else class="text-gray-400 text-sm">–ù–µ —É–∫–∞–∑–∞–Ω–æ</span>
        </div>
      </div>

      <!-- Experience -->
      <div>
        <label class="block text-sm font-semibold text-gray-300 mb-2">üé§ –û—Å–Ω–æ–≤–Ω–æ–π —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç</label>
        <p class="text-gray-400">
          {{ providerInfo?.experience ?? '–ù–µ —É–∫–∞–∑–∞–Ω–æ' }}
        </p>
      </div>

      <!-- Contact Info -->
      <div class="border-t border-slate-700 pt-4 space-y-3">
        <label class="block text-sm font-semibold text-gray-300">üìû –ö–æ–Ω—Ç–∞–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ</label>
        <div>
          <p class="text-xs text-gray-500 mb-1">Email</p>
          <p class="text-gray-300 font-mono text-sm">
            {{ providerInfo?.email ?? '–ù–µ —É–∫–∞–∑–∞–Ω–æ' }}
          </p>
        </div>
        <div>
          <p class="text-xs text-gray-500 mb-1">–¢–µ–ª–µ—Ñ–æ–Ω</p>
          <p class="text-gray-300 font-mono text-sm">
            {{ providerInfo?.phone ?? '–ù–µ —É–∫–∞–∑–∞–Ω–æ' }}
          </p>
        </div>
      </div>

      <!-- Stats -->
      <div class="grid grid-cols-3 gap-3 border-t border-slate-700 pt-4">
        <div class="text-center">
          <p class="text-2xl font-bold text-blue-400">
            {{ (providerInfo?.completedOrders as number) ?? 0 }}
          </p>
          <p class="text-xs text-gray-400 mt-1">–ó–∞–∫–∞–∑–æ–≤</p>
        </div>
        <div class="text-center">
          <p class="text-2xl font-bold text-yellow-400">
            {{ ((providerInfo?.rating as number) ?? 0).toFixed(1) }}
          </p>
          <p class="text-xs text-gray-400 mt-1">–†–µ–π—Ç–∏–Ω–≥</p>
        </div>
        <div class="text-center">
          <p class="text-2xl font-bold text-green-400">
            {{ (providerInfo?.reviews as number) ?? 0 }}
          </p>
          <p class="text-xs text-gray-400 mt-1">–û—Ç–∑—ã–≤–æ–≤</p>
        </div>
      </div>
    </div>
  </div>
</template>

<script setup lang="ts">
interface ProviderInfo {
  id?: string | number
  name?: string
  bio?: string
  location?: string
  experience?: string
  specializations?: string[]
  email?: string
  phone?: string
  rating?: number
  reviews?: number
  completedOrders?: number
  [key: string]: any
}

defineProps<{
  providerInfo?: ProviderInfo | null
}>()

const emit = defineEmits<{
  edit: []
}>()

const editProfile = () => {
  emit('edit')
}
</script>
