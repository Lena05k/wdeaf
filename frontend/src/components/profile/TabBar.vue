<template>
  <div class="tab-bar sticky top-0 z-30 bg-gradient-to-b from-slate-800 to-slate-900 border-b border-slate-700">
    <div class="px-4 py-3 flex gap-1 overflow-x-auto scrollbar-hide">
      <!-- For Non-Providers -->
      <template v-if="!isProvider">
        <button
          v-for="tab in userTabs"
          :key="tab.id"
          @click="$emit('selectTab', tab.id)"
          :class="[
            'px-4 py-2 rounded-lg font-semibold transition whitespace-nowrap',
            activeTab === tab.id
              ? 'bg-blue-600 text-white shadow-lg'
              : 'bg-slate-700/50 text-gray-400 hover:text-gray-300'
          ]"
        >
          {{ tab.icon }} {{ tab.label }}
        </button>
      </template>

      <!-- For Providers -->
      <template v-else>
        <button
          v-for="tab in providerTabs"
          :key="tab.id"
          @click="$emit('selectTab', tab.id)"
          :class="[
            'px-4 py-2 rounded-lg font-semibold transition whitespace-nowrap',
            activeTab === tab.id
              ? 'bg-green-600 text-white shadow-lg'
              : 'bg-slate-700/50 text-gray-400 hover:text-gray-300'
          ]"
        >
          {{ tab.icon }} {{ tab.label }}
        </button>
      </template>
    </div>
  </div>
</template>

<script setup lang="ts">
const userTabs = [
  { id: 'orders', label: 'Ğ—Ğ°ĞºĞ°Ğ·Ñ‹', icon: 'ğŸ“¦' },
  { id: 'saved', label: 'Ğ¡Ğ¾Ñ…Ñ€Ğ°Ğ½Ñ‘Ğ½Ğ½Ñ‹Ğµ', icon: 'â¤ï¸' },
  { id: 'reviews', label: 'ĞÑ‚Ğ·Ñ‹Ğ²Ñ‹', icon: 'â­' }
]

const providerTabs = [
  { id: 'services', label: 'Ğ£ÑĞ»ÑƒĞ³Ğ¸', icon: 'ğŸ“‹' },
  { id: 'orders', label: 'Ğ—Ğ°ĞºĞ°Ğ·Ñ‹', icon: 'ğŸ“¦' },
  { id: 'analytics', label: 'ĞĞ½Ğ°Ğ»Ğ¸Ñ‚Ğ¸ĞºĞ°', icon: 'ğŸ“Š' },
  { id: 'profile', label: 'ĞŸÑ€Ğ¾Ñ„Ğ¸Ğ»ÑŒ', icon: 'ğŸ‘¤' }
]

defineProps<{
  activeTab: string
  isProvider: boolean
}>()

defineEmits<{
  selectTab: [id: string]
}>()
</script>

<style scoped>
.scrollbar-hide::-webkit-scrollbar {
  display: none;
}

.scrollbar-hide {
  -ms-overflow-style: none;
  scrollbar-width: none;
}
</style>
