# ๐ ProfileView Refactoring Guide

## ๐ฏ ะฆะตะปั ัะตัะฐะบัะพัะธะฝะณะฐ

ะะฐะทะฑะธัั ะผะพะฝะพะปะธัะฝัะน `ProfileView.vue` (24KB) ะฝะฐ ะผะพะดัะปัะฝัะต ะบะพะผะฟะพะฝะตะฝัั ัะพะณะปะฐัะฝะพ ะฟัะธะฝัะธะฟะฐะผ **Feature-Sliced Design** ะธ **Composition API**.

---

## ๐ ะะพะฒะฐั ััััะบัััะฐ

```
frontend/src/
โโโ components/
โ   โโโ profile/                    # ะะพะผะฟะพะฝะตะฝัั ะฟัะพัะธะปั
โ   โ   โโโ ProfileHeader.vue        # ะจะฐะฟะบะฐ ั ะธะฝัะพัะผะฐัะธะตะน ะพ ะฟะพะปัะทะพะฒะฐัะตะปะต
โ   โ   โโโ ProfileStats.vue         # ะกัะฐัะธััะธะบะฐ (ะทะฐะบะฐะทั, ัะตะนัะธะฝะณ)
โ   โ   โโโ ProfileActions.vue       # ะะฝะพะฟะบะธ ะดะตะนััะฒะธะน
โ   โ   โโโ ProviderServicesList.vue # ะกะฟะธัะพะบ ััะปัะณ ะธัะฟะพะปะฝะธัะตะปั
โ   โ   โโโ forms/                   # ะคะพัะผั ัะพะทะดะฐะฝะธั ััะปัะณะธ
โ   โ       โโโ ProviderFormStep1.vue
โ   โ       โโโ ProviderFormStep2.vue
โ   โ       โโโ ProviderFormStep3.vue
โ   โ       โโโ ProviderFormStep4.vue
โ   โโโ modals/
โ       โโโ BecomeProviderModal.vue  # ะะพะดะฐะปะบะฐ ััะฐัั ะธัะฟะพะปะฝะธัะตะปะตะผ
โ       โโโ ServiceDetailsModal.vue  # ะะพะดะฐะปะบะฐ ะดะตัะฐะปะตะน ััะปัะณะธ
โโโ composables/
โ   โโโ useProfile.ts            # ะะธะทะฝะตั-ะปะพะณะธะบะฐ ะฟัะพัะธะปั
โโโ views/
    โโโ ProfileView.vue          # ะกัะฐััะน ะผะพะฝะพะปะธั
    โโโ ProfileView.refactored.vue # ะะพะฒัะน ัะตัะฐะบัะพัะตะฝะฝัะน
```

---

## ๐ ะะปััะตะฒัะต ัะปัััะตะฝะธั

### 1. **Composition API (`<script setup>`)**
- โ ะัะฟะพะปัะทะพะฒะฐะฝะธะต `<script setup lang="ts">`
- โ TypeScript ั ะฟะพะปะฝะพะน ัะธะฟะธะทะฐัะธะตะน props ะธ emits
- โ ะะผะตะฝะพะฒะฐะฝะฝัะต ัะบัะฟะพััั

### 2. **ะะฐะทะดะตะปะตะฝะธะต ะพัะฒะตัััะฒะตะฝะฝะพััะธ**
| ะะพะผะฟะพะฝะตะฝั | ะัะฒะตัััะฒะตะฝะฝะพััั |
|---------|-------------|
| `ProfileHeader` | ะัะพะฑัะฐะถะตะฝะธะต ะฐะฒะฐัะฐัะฐ ะธ ะธะผะตะฝะธ |
| `ProfileStats` | ะกัะฐัะธััะธะบะฐ (ะทะฐะบะฐะทั, ัะตะนัะธะฝะณ) |
| `ProfileActions` | ะะฝะพะฟะบะธ ะดะตะนััะฒะธะน (ััะฐัั ะธัะฟะพะปะฝะธัะตะปะตะผ, ะฝะฐัััะพะนะบะธ) |
| `ProviderServicesList` | ะกะฟะธัะพะบ ััะปัะณ ะธัะฟะพะปะฝะธัะตะปั |
| `BecomeProviderModal` | ะัะปััะธัะฐะณะพะฒะฐั ัะพัะผะฐ ัะตะณะธัััะฐัะธะธ |
| `ServiceDetailsModal` | ะัะพัะผะพัั ะธ ัะตะดะฐะบัะธัะพะฒะฐะฝะธะต ััะปัะณะธ |
| `useProfile` (composable) | ะะธะทะฝะตั-ะปะพะณะธะบะฐ ะธ ัะพััะพัะฝะธะต |

### 3. **Composables ะฒะผะตััะพ data/methods**
ะัั ะฑะธะทะฝะตั-ะปะพะณะธะบะฐ ะฒัะฝะตัะตะฝะฐ ะฒ `composables/useProfile.ts`:

```typescript
export const useProfile = () => {
  const userStore = useUserStore()
  const showBecomeProviderModal = ref(false)
  const selectedServiceForEdit = ref<any>(null)

  // ะะตัะพะดั...
  const submitProvider = (data: ProviderFormData) => { ... }
  const deleteService = (serviceId: string) => { ... }

  return {
    userStore,
    showBecomeProviderModal,
    selectedServiceForEdit,
    submitProvider,
    deleteService,
    // ...
  }
}
```

---

## ๐ ะะธะณัะฐัะธั

### ะจะฐะณ 1: ะขะตััะธัะพะฒะฐะฝะธะต ัะตัะฐะบัะพัะตะฝะฝะพะณะพ ะบะพะผะฟะพะฝะตะฝัะฐ

1. ะะพะดะบะปััะธัั `ProfileView.refactored.vue` ะฒ ัะฐััะตั:

```typescript
// router/index.ts
{
  path: '/profile',
  name: 'profile',
  component: () => import('@/views/ProfileView.refactored.vue')
}
```

2. ะัะพะฒะตัะธัั ะฒัะต ััะฝะบัะธะธ:
   - โ ะัะพะฑัะฐะถะตะฝะธะต ะฟัะพัะธะปั
   - โ ะกะพะทะดะฐะฝะธะต ััะปัะณะธ (ะผัะปััะธัะฐะณะพะฒะฐั ัะพัะผะฐ)
   - โ ะะฐะณััะทะบะฐ ัะพัะพะณัะฐัะธะน
   - โ ะฃะดะฐะปะตะฝะธะต ััะปัะณะธ
   - โ ะัะพัะผะพัั ะดะตัะฐะปะตะน ััะปัะณะธ

### ะจะฐะณ 2: ะะฐะผะตะฝะฐ ััะฐัะพะณะพ ะบะพะผะฟะพะฝะตะฝัะฐ

ะะพะณะดะฐ ัะตัะฐะบัะพัะตะฝะฝัะน ะบะพะผะฟะพะฝะตะฝั ะฟัะพัะตััะธัะพะฒะฐะฝ:

```bash
# ะฃะดะฐะปะธัั ััะฐััะน
git rm frontend/src/views/ProfileView.vue

# ะะตัะตะธะผะตะฝะพะฒะฐัั ะฝะพะฒัะน
git mv frontend/src/views/ProfileView.refactored.vue frontend/src/views/ProfileView.vue
```

---

## ๐ ะะตะทัะปััะฐัั

| ะะตััะธะบะฐ | ะะพ | ะะพัะปะต |
|---------|------|--------|
| ะะฐะทะผะตั ัะฐะนะปะฐ | 24.7 KB | ~2 KB |
| ะะพะป-ะฒะพ ัััะพะบ | 730+ | ~80 |
| ะะพะผะฟะพะฝะตะฝัั | 1 (ะผะพะฝะพะปะธั) | 11 (ะผะพะดัะปัะฝัะต) |
| ะะพะฒัะพัะฝะพะต ะธัะฟะพะปัะทะพะฒะฐะฝะธะต | โ ะะตั | โ ะะฐ |
| TypeScript | โ Strict | โ Full |
| Composition API | โ Options API | โ `<script setup>` |

---

## โ๏ธ ะะฐะถะฝัะต ะฟัะฐะฒะธะปะฐ

1. **ะะธะบะพะณะดะฐ ะฝะต ะธัะฟะพะปัะทัะน Options API** โ ัะพะปัะบะพ Composition API
2. **ะขะธะฟะธะทะธััะน ะฒัั** โ ะฝะธะบะฐะบะธั `any`
3. **Composables ะดะปั ะปะพะณะธะบะธ** โ ะฒัะฝะพัะธ ะฑะธะทะฝะตั-ะปะพะณะธะบั ะธะท ะบะพะผะฟะพะฝะตะฝัะพะฒ
4. **ะะฐะปะตะฝัะบะธะต ะบะพะผะฟะพะฝะตะฝัั** โ <200 ัััะพะบ ะฝะฐ ะบะพะผะฟะพะฝะตะฝั
5. **Lazy loading** โ ะดะปั ะผะพะดะฐะปะพะบ ะธ ััะถัะปัั ะบะพะผะฟะพะฝะตะฝัะพะฒ

---

## ๐ ะกะปะตะดัััะธะต ัะฐะณะธ

- [ ] ะะตัะฐะบัะพัะธะฝะณ `OrdersView.vue`
- [ ] ะะตัะฐะบัะพัะธะฝะณ `CatalogView.vue`
- [ ] ะะพะฑะฐะฒะธัั unit-ัะตััั ะดะปั composables
- [ ] ะะพะฑะฐะฒะธัั Storybook ะดะปั ะบะพะผะฟะพะฝะตะฝัะพะฒ

---

ะกะพะทะดะฐะฝะพ ั ๐ ะดะปั WDEAF Telegram Mini App
